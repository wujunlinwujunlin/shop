(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderconfire"],{"0558":function(t,e,c){},"069d":function(t,e,c){"use strict";c.r(e);var r=c("7a23"),n=Object(r["J"])("data-v-2e4f53c4");Object(r["t"])("data-v-2e4f53c4");var a={class:"wrapper"};Object(r["r"])();var o=n((function(t,e,c,n,o,i){var s=Object(r["x"])("toparea"),d=Object(r["x"])("productlists"),u=Object(r["x"])("order");return Object(r["q"])(),Object(r["d"])("div",a,[Object(r["g"])(s),Object(r["g"])(d),Object(r["g"])(u)])})),i=Object(r["J"])("data-v-e2364aea");Object(r["t"])("data-v-e2364aea");var s={class:"order"},d={class:"order__price"},u=Object(r["f"])("实付金额 "),l=Object(r["g"])("h3",{class:"mask__content__title"},"确认要离开收银台？",-1),b=Object(r["g"])("p",{class:"mask__content__desc"},"请尽快完成支付，否则将被取消",-1),p={class:"mask__content__btns"};Object(r["r"])();var f=i((function(t,e,c,n,a,o){return Object(r["q"])(),Object(r["d"])(r["a"],null,[Object(r["g"])("div",s,[Object(r["g"])("div",d,[u,Object(r["g"])("b",null,"¥"+Object(r["z"])(n.calculations.price),1)]),Object(r["H"])(Object(r["g"])("div",{class:"order__btn",onClick:e[1]||(e[1]=function(){return n.handlesubmit(!0)})}," 提交订单",512),[[r["D"],n.showsubmit]])]),Object(r["H"])(Object(r["g"])("div",{class:"mask",onClick:e[5]||(e[5]=function(){return n.handlesubmit(!1)})},[Object(r["g"])("div",{class:"mask__content",onClick:e[4]||(e[4]=Object(r["I"])((function(){}),["stop"]))},[l,b,Object(r["g"])("div",p,[Object(r["g"])("div",{class:"mask__content__btn mask__content__btn--first",onClick:e[2]||(e[2]=function(){return n.handclickconorder(!0)})}," 取消订单"),Object(r["g"])("div",{class:"mask__content__btn mask__content__btn--last",onClick:e[3]||(e[3]=function(){return n.handclickconorder(!1)})}," 确认订单")])])],512),[[r["D"],n.showcon]])],64)})),_=(c("96cf"),c("1da1")),v=c("6c02"),O=c("b775"),j=c("4266"),h=c("5502"),m=function(t,e,c,r){var n=Object(h["b"])(),a=Object(v["d"])(),o=function(){var o=Object(_["a"])(regeneratorRuntime.mark((function o(i){var s,d,u,l,b;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:for(d in s=[],c.value)u=c.value[d],s.push({id:parseInt(u._id,10),num:u.count});return o.prev=2,o.next=5,Object(O["b"])("/api/order",{addressid:r,shopid:t,shopname:e.value,iscanceled:i,products:s});case 5:l=o.sent,0===(null===l||void 0===l?void 0:l.errno)&&(b=JSON.parse(localStorage.cartList||"{}"),delete b[t],localStorage.cartList=JSON.stringify(b),n.commit("clearcardata",t),a.push({name:"orderlist"})),o.next=11;break;case 9:o.prev=9,o.t0=o["catch"](2);case 11:case"end":return o.stop()}}),o,null,[[2,9]])})));return function(t){return o.apply(this,arguments)}}();return{handclickconorder:o}},g=function(){var t=Object(r["v"])(!1),e=function(e){t.value=e};return{showcon:t,handlesubmit:e}},k={name:"order",setup:function(){var t=Object(v["c"])(),e=parseInt(t.params.id,10),c=Object(j["a"])(e),r=c.calculations,n=c.shopname,a=c.productlist,o=m(e,n,a,t.query.addressid),i=o.handclickconorder,s=g(),d=s.showcon,u=s.handlesubmit;return{showsubmit:!!t.query.addressid,showcon:d,calculations:r,handclickconorder:i,handlesubmit:u}}};c("82c9");k.render=f,k.__scopeId="data-v-e2364aea";var w=k,x=(c("99af"),c("b0c0"),Object(r["J"])("data-v-1d93c6b4"));Object(r["t"])("data-v-1d93c6b4");var y={class:"top"},q={class:"top__header"},I=Object(r["f"])(" 确认订单 "),z=Object(r["g"])("div",{class:"top__receiver__title"},"收货地址",-1),N={class:"top__receiver__address"},C={key:0,class:"top__receiver__info"},F={class:"top__receiver__info__name"},J={class:"top__receiver__info__number"},S=Object(r["g"])("div",{class:"iconfont top__receiver__icon"},"",-1);Object(r["r"])();var A=x((function(t,e,c,n,a,o){return Object(r["q"])(),Object(r["d"])("div",y,[Object(r["g"])("div",q,[Object(r["g"])("div",{class:"iconfont top__header__back",onClick:e[1]||(e[1]=function(){return n.handlebackclick.apply(n,arguments)})},""),I]),Object(r["g"])("div",{class:"top__receiver",onClick:e[2]||(e[2]=function(){return n.handaddressclick.apply(n,arguments)})},[z,Object(r["g"])("div",N,Object(r["z"])(n.hasaddress?"".concat(n.data.city).concat(n.data.department).concat(n.data.houseNumber):"请选择收货地址"),1),n.hasaddress?(Object(r["q"])(),Object(r["d"])("div",C,[Object(r["g"])("span",F,Object(r["z"])(n.data.name),1),Object(r["g"])("span",J,Object(r["z"])(n.data.phone),1)])):Object(r["e"])("",!0),S])])})),R=c("5c40"),E={name:"toparea",setup:function(){var t=Object(v["c"])(),e=Object(v["d"])(),c=Object(r["u"])({}),n=t.query.addressid,a=function(){e.back()},o=function(){e.push("/addressselect?path=".concat(t.path))};return Object(R["s"])(Object(_["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,Object(O["a"])("/api/user/address/".concat(n));case 3:e=t.sent,0===(null===e||void 0===e?void 0:e.errno)&&(r=e.data,c.city=r.city,c.department=r.department,c.houseNumber=r.houseNumber,c.name=r.name,c.phone=r.phone);case 5:case"end":return t.stop()}}),t)})))),{data:c,hasaddress:!!n,handlebackclick:a,handaddressclick:o}}};c("d76f");E.render=A,E.__scopeId="data-v-1d93c6b4";var L=E,T=(c("b680"),Object(r["J"])("data-v-4ad721d1"));Object(r["t"])("data-v-4ad721d1");var D={class:"products"},H={class:"products__title"},M={class:"produucts__wrapper"},B={class:"products__list"},U={class:"products__item__detail"},W={class:"products__item__title"},G={class:"products__item__price"},K={class:"products__item__single"},P=Object(r["g"])("span",{class:"products__item__yen"},"¥",-1),Q={class:"products__item__total"},V=Object(r["g"])("span",{class:"products__item__yen"},"¥",-1);Object(r["r"])();var X=T((function(t,e,c,n,a,o){return Object(r["q"])(),Object(r["d"])("div",D,[Object(r["g"])("div",H,Object(r["z"])(n.shopname),1),Object(r["g"])("div",M,[Object(r["g"])("div",B,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(n.productlist,(function(t){return Object(r["q"])(),Object(r["d"])("div",{class:"products__item",key:t.id},[Object(r["g"])("img",{class:"products__item__img",src:t.imgUrl,alt:""},null,8,["src"]),Object(r["g"])("div",U,[Object(r["g"])("h4",W,Object(r["z"])(t.name),1),Object(r["g"])("p",G,[Object(r["g"])("span",K,[P,Object(r["f"])(" "+Object(r["z"])(t.price)+"x"+Object(r["z"])(t.count),1)]),Object(r["g"])("span",Q,[V,Object(r["f"])(" "+Object(r["z"])((t.price*t.count).toFixed(2)),1)])])])])})),128))])])])})),Y={name:"productlists",setup:function(){var t=Object(v["c"])(),e=t.params.id,c=Object(j["a"])(e),r=c.productlist,n=c.shopname;return{productlist:r,shopname:n}}};c("2f54");Y.render=X,Y.__scopeId="data-v-4ad721d1";var Z=Y,$={name:"orderconfire",components:{toparea:L,order:w,productlists:Z}};c("a791");$.render=o,$.__scopeId="data-v-2e4f53c4";e["default"]=$},1148:function(t,e,c){"use strict";var r=c("a691"),n=c("1d80");t.exports="".repeat||function(t){var e=String(n(this)),c="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(c+=e);return c}},"1dde":function(t,e,c){var r=c("d039"),n=c("b622"),a=c("2d00"),o=n("species");t.exports=function(t){return a>=51||!r((function(){var e=[],c=e.constructor={};return c[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2f54":function(t,e,c){"use strict";c("6f7f")},"31cd":function(t,e,c){},"408a":function(t,e,c){var r=c("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},4266:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));c("b680");var r=c("5502"),n=c("7a23"),a=function(t){var e=Object(r["b"])(),c=e.state.cartList,a=function(t,c,r,n){e.commit("changeiteminfo",{shopid:t,productid:c,productInfo:r,num:n})},o=Object(n["b"])((function(){var e,r=(null===(e=c[t])||void 0===e?void 0:e.productlist)||{},n={};for(var a in r){var o=r[a];o.count>0&&(n[a]=o)}return n})),i=Object(n["b"])((function(){var e,r=(null===(e=c[t])||void 0===e?void 0:e.shopname)||"";return r})),s=Object(n["b"])((function(){var e,r=null===(e=c[t])||void 0===e?void 0:e.productlist,n={total:0,price:0,allchecked:!0};if(r)for(var a in r){var o=r[a];n.total+=o.count,o.check&&(n.price+=o.count*o.price),o.count>0&&!o.check&&(n.allchecked=!1)}return n.price=n.price.toFixed(2),n}));return{changeiteminfo:a,calculations:s,cartList:c,productlist:o,shopname:i}}},"65f0":function(t,e,c){var r=c("861d"),n=c("e8b5"),a=c("b622"),o=a("species");t.exports=function(t,e){var c;return n(t)&&(c=t.constructor,"function"!=typeof c||c!==Array&&!n(c.prototype)?r(c)&&(c=c[o],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===e?0:e)}},"6f7f":function(t,e,c){},"82c9":function(t,e,c){"use strict";c("31cd")},8418:function(t,e,c){"use strict";var r=c("c04e"),n=c("9bf2"),a=c("5c6c");t.exports=function(t,e,c){var o=r(e);o in t?n.f(t,o,a(0,c)):t[o]=c}},"99af":function(t,e,c){"use strict";var r=c("23e7"),n=c("d039"),a=c("e8b5"),o=c("861d"),i=c("7b0b"),s=c("50c4"),d=c("8418"),u=c("65f0"),l=c("1dde"),b=c("b622"),p=c("2d00"),f=b("isConcatSpreadable"),_=9007199254740991,v="Maximum allowed index exceeded",O=p>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),j=l("concat"),h=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:a(t)},m=!O||!j;r({target:"Array",proto:!0,forced:m},{concat:function(t){var e,c,r,n,a,o=i(this),l=u(o,0),b=0;for(e=-1,r=arguments.length;e<r;e++)if(a=-1===e?o:arguments[e],h(a)){if(n=s(a.length),b+n>_)throw TypeError(v);for(c=0;c<n;c++,b++)c in a&&d(l,b,a[c])}else{if(b>=_)throw TypeError(v);d(l,b++,a)}return l.length=b,l}})},a791:function(t,e,c){"use strict";c("cc69")},b680:function(t,e,c){"use strict";var r=c("23e7"),n=c("a691"),a=c("408a"),o=c("1148"),i=c("d039"),s=1..toFixed,d=Math.floor,u=function(t,e,c){return 0===e?c:e%2===1?u(t,e-1,c*t):u(t*t,e/2,c)},l=function(t){var e=0,c=t;while(c>=4096)e+=12,c/=4096;while(c>=2)e+=1,c/=2;return e},b=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){s.call({})}));r({target:"Number",proto:!0,forced:b},{toFixed:function(t){var e,c,r,i,s=a(this),b=n(t),p=[0,0,0,0,0,0],f="",_="0",v=function(t,e){var c=-1,r=e;while(++c<6)r+=t*p[c],p[c]=r%1e7,r=d(r/1e7)},O=function(t){var e=6,c=0;while(--e>=0)c+=p[e],p[e]=d(c/t),c=c%t*1e7},j=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var c=String(p[t]);e=""===e?c:e+o.call("0",7-c.length)+c}return e};if(b<0||b>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(f="-",s=-s),s>1e-21)if(e=l(s*u(2,69,1))-69,c=e<0?s*u(2,-e,1):s/u(2,e,1),c*=4503599627370496,e=52-e,e>0){v(0,c),r=b;while(r>=7)v(1e7,0),r-=7;v(u(10,r,1),0),r=e-1;while(r>=23)O(1<<23),r-=23;O(1<<r),v(1,1),O(2),_=j()}else v(0,c),v(1<<-e,0),_=j()+o.call("0",b);return b>0?(i=_.length,_=f+(i<=b?"0."+o.call("0",b-i)+_:_.slice(0,i-b)+"."+_.slice(i-b))):_=f+_,_}})},cc69:function(t,e,c){},d76f:function(t,e,c){"use strict";c("0558")},e8b5:function(t,e,c){var r=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}}}]);
//# sourceMappingURL=orderconfire.ec33533e.js.map